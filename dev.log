
> peakplay@1.0.0 dev
> next dev

   â–² Next.js 15.3.2
   - Local:        http://localhost:3000
   - Network:      http://192.168.1.75:3000
   - Environments: .env.local, .env
   - Experiments (use with caution):
     Â· clientTraceMetadata

 âœ“ Starting...
> [PWA] Compile server
> [PWA] Compile server
> [PWA] Compile client (static)
> [PWA] Auto register service worker with: /Users/lilsp/peakplay-prototype/node_modules/next-pwa/register.js
> [PWA] Service worker: /Users/lilsp/peakplay-prototype/public/sw.js
> [PWA]   url: /sw.js
> [PWA]   scope: /
> [PWA] Build in develop mode, cache and precache are mostly disabled. This means offline support is disabled, but you can continue developing other functions in service worker.
 âœ“ Ready in 2.2s
 âš  GenerateSW has been called multiple times, perhaps due to running webpack in --watch mode. The precache manifest generated after the first call may be inaccurate! Please see https://github.com/GoogleChrome/workbox/issues/1790 for more information.
 âš  GenerateSW has been called multiple times, perhaps due to running webpack in --watch mode. The precache manifest generated after the first call may be inaccurate! Please see https://github.com/GoogleChrome/workbox/issues/1790 for more information.
 â—‹ Compiling /api/test-db ...
 âš  GenerateSW has been called multiple times, perhaps due to running webpack in --watch mode. The precache manifest generated after the first call may be inaccurate! Please see https://github.com/GoogleChrome/workbox/issues/1790 for more information.
 GET /api/test-db 200 in 3463ms
 âš  GenerateSW has been called multiple times, perhaps due to running webpack in --watch mode. The precache manifest generated after the first call may be inaccurate! Please see https://github.com/GoogleChrome/workbox/issues/1790 for more information.
 âš  GenerateSW has been called multiple times, perhaps due to running webpack in --watch mode. The precache manifest generated after the first call may be inaccurate! Please see https://github.com/GoogleChrome/workbox/issues/1790 for more information.
ðŸ” Actions API - Starting optimized request
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
â±ï¸ Actions API session check took: 9ms
âŒ No session found in Actions API
 GET /api/actions?limit=3 401 in 1382ms
 âš  GenerateSW has been called multiple times, perhaps due to running webpack in --watch mode. The precache manifest generated after the first call may be inaccurate! Please see https://github.com/GoogleChrome/workbox/issues/1790 for more information.
 âš  GenerateSW has been called multiple times, perhaps due to running webpack in --watch mode. The precache manifest generated after the first call may be inaccurate! Please see https://github.com/GoogleChrome/workbox/issues/1790 for more information.
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
 GET / 200 in 3194ms
 GET /api/test-db 200 in 239ms
 GET / 200 in 64ms
[next-auth][error][JWT_SESSION_ERROR] 
https://next-auth.js.org/errors#jwt_session_error decryption operation failed {
  message: 'decryption operation failed',
  stack: 'JWEDecryptionFailed: decryption operation failed\n' +
    '    at gcmDecrypt (webpack-internal:///(rsc)/./node_modules/next-auth/node_modules/jose/dist/node/cjs/runtime/decrypt.js:67:15)\n' +
    '    at decrypt (webpack-internal:///(rsc)/./node_modules/next-auth/node_modules/jose/dist/node/cjs/runtime/decrypt.js:92:20)\n' +
    '    at flattenedDecrypt (webpack-internal:///(rsc)/./node_modules/next-auth/node_modules/jose/dist/node/cjs/jwe/flattened/decrypt.js:143:52)\n' +
    '    at async compactDecrypt (webpack-internal:///(rsc)/./node_modules/next-auth/node_modules/jose/dist/node/cjs/jwe/compact/decrypt.js:18:23)\n' +
    '    at async jwtDecrypt (webpack-internal:///(rsc)/./node_modules/next-auth/node_modules/jose/dist/node/cjs/jwt/decrypt.js:8:23)\n' +
    '    at async Object.decode (webpack-internal:///(rsc)/./node_modules/next-auth/jwt/index.js:56:7)\n' +
    '    at async Object.session (webpack-internal:///(rsc)/./node_modules/next-auth/core/routes/session.js:39:28)\n' +
    '    at async AuthHandler (webpack-internal:///(rsc)/./node_modules/next-auth/core/index.js:136:27)\n' +
    '    at async getServerSession (webpack-internal:///(rsc)/./node_modules/next-auth/next/index.js:129:19)\n' +
    '    at async HomePage (webpack-internal:///(rsc)/./src/app/page.tsx:32:21)',
  name: 'JWEDecryptionFailed'
}
 GET / 200 in 132ms
 âš  GenerateSW has been called multiple times, perhaps due to running webpack in --watch mode. The precache manifest generated after the first call may be inaccurate! Please see https://github.com/GoogleChrome/workbox/issues/1790 for more information.
 âš  GenerateSW has been called multiple times, perhaps due to running webpack in --watch mode. The precache manifest generated after the first call may be inaccurate! Please see https://github.com/GoogleChrome/workbox/issues/1790 for more information.
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
[next-auth][error][JWT_SESSION_ERROR] 
https://next-auth.js.org/errors#jwt_session_error decryption operation failed {
  message: 'decryption operation failed',
  stack: 'JWEDecryptionFailed: decryption operation failed\n' +
    '    at gcmDecrypt (webpack-internal:///(rsc)/./node_modules/next-auth/node_modules/jose/dist/node/cjs/runtime/decrypt.js:67:15)\n' +
    '    at decrypt (webpack-internal:///(rsc)/./node_modules/next-auth/node_modules/jose/dist/node/cjs/runtime/decrypt.js:92:20)\n' +
    '    at flattenedDecrypt (webpack-internal:///(rsc)/./node_modules/next-auth/node_modules/jose/dist/node/cjs/jwe/flattened/decrypt.js:143:52)\n' +
    '    at async compactDecrypt (webpack-internal:///(rsc)/./node_modules/next-auth/node_modules/jose/dist/node/cjs/jwe/compact/decrypt.js:18:23)\n' +
    '    at async jwtDecrypt (webpack-internal:///(rsc)/./node_modules/next-auth/node_modules/jose/dist/node/cjs/jwt/decrypt.js:8:23)\n' +
    '    at async Object.decode (webpack-internal:///(rsc)/./node_modules/next-auth/jwt/index.js:56:7)\n' +
    '    at async Object.session (webpack-internal:///(rsc)/./node_modules/next-auth/core/routes/session.js:39:28)\n' +
    '    at async AuthHandler (webpack-internal:///(rsc)/./node_modules/next-auth/core/index.js:136:27)\n' +
    '    at async NextAuthRouteHandler (webpack-internal:///(rsc)/./node_modules/next-auth/next/index.js:57:28)\n' +
    '    at async NextAuth._args$ (webpack-internal:///(rsc)/./node_modules/next-auth/next/index.js:89:16)\n' +
    '    at async eval (webpack-internal:///(rsc)/./node_modules/@sentry/nextjs/build/cjs/common/wrapRouteHandlerWithSentry.js:39:30)\n' +
    '    at async AppRouteRouteModule.do (/Users/lilsp/peakplay-prototype/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:26:34112)\n' +
    '    at async AppRouteRouteModule.handle (/Users/lilsp/peakplay-prototype/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:26:41338)\n' +
    '    at async doRender (/Users/lilsp/peakplay-prototype/node_modules/next/dist/server/base-server.js:1513:42)\n' +
    '    at async DevServer.renderToResponseWithComponentsImpl (/Users/lilsp/peakplay-prototype/node_modules/next/dist/server/base-server.js:1915:28)\n' +
    '    at async DevServer.renderPageComponent (/Users/lilsp/peakplay-prototype/node_modules/next/dist/server/base-server.js:2403:24)\n' +
    '    at async DevServer.renderToResponseImpl (/Users/lilsp/peakplay-prototype/node_modules/next/dist/server/base-server.js:2440:32)\n' +
    '    at async DevServer.pipeImpl (/Users/lilsp/peakplay-prototype/node_modules/next/dist/server/base-server.js:1007:25)\n' +
    '    at async NextNodeServer.handleCatchallRenderRequest (/Users/lilsp/peakplay-prototype/node_modules/next/dist/server/next-server.js:305:17)\n' +
    '    at async DevServer.handleRequestImpl (/Users/lilsp/peakplay-prototype/node_modules/next/dist/server/base-server.js:899:17)\n' +
    '    at async /Users/lilsp/peakplay-prototype/node_modules/next/dist/server/dev/next-dev-server.js:371:20\n' +
    '    at async Span.traceAsyncFn (/Users/lilsp/peakplay-prototype/node_modules/next/dist/trace/trace.js:157:20)\n' +
    '    at async DevServer.handleRequest (/Users/lilsp/peakplay-prototype/node_modules/next/dist/server/dev/next-dev-server.js:368:24)\n' +
    '    at async invokeRender (/Users/lilsp/peakplay-prototype/node_modules/next/dist/server/lib/router-server.js:237:21)\n' +
    '    at async handleRequest (/Users/lilsp/peakplay-prototype/node_modules/next/dist/server/lib/router-server.js:428:24)\n' +
    '    at async requestHandlerImpl (/Users/lilsp/peakplay-prototype/node_modules/next/dist/server/lib/router-server.js:452:13)\n' +
    '    at async Server.requestListener (/Users/lilsp/peakplay-prototype/node_modules/next/dist/server/lib/start-server.js:158:13)',
  name: 'JWEDecryptionFailed'
}
 GET /api/auth/session 200 in 2446ms
 âš  GenerateSW has been called multiple times, perhaps due to running webpack in --watch mode. The precache manifest generated after the first call may be inaccurate! Please see https://github.com/GoogleChrome/workbox/issues/1790 for more information.
 âš  GenerateSW has been called multiple times, perhaps due to running webpack in --watch mode. The precache manifest generated after the first call may be inaccurate! Please see https://github.com/GoogleChrome/workbox/issues/1790 for more information.
 GET /auth/signin 200 in 1983ms
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
 GET /api/auth/providers 200 in 90ms
 GET /api/auth/csrf 200 in 7ms
ðŸ” Authorize called with credentials: { email: 'coach1@transform.com', password: '***' }
ðŸ‘¤ User found: {
  id: 'cmdgn63ux0000w2lkjb3fjz17',
  email: 'coach1@transform.com',
  role: 'COACH'
}
ðŸ” Password valid: true
âœ… Authentication successful for: coach1@transform.com
[AUTH_EVENT] LOGIN_SUCCESS - coach1@transform.com 
 POST /api/auth/callback/credentials 200 in 638ms
 GET /api/auth/session 200 in 128ms
 âš  GenerateSW has been called multiple times, perhaps due to running webpack in --watch mode. The precache manifest generated after the first call may be inaccurate! Please see https://github.com/GoogleChrome/workbox/issues/1790 for more information.
 âš  GenerateSW has been called multiple times, perhaps due to running webpack in --watch mode. The precache manifest generated after the first call may be inaccurate! Please see https://github.com/GoogleChrome/workbox/issues/1790 for more information.
 GET /dashboard 200 in 6389ms
 âš  GenerateSW has been called multiple times, perhaps due to running webpack in --watch mode. The precache manifest generated after the first call may be inaccurate! Please see https://github.com/GoogleChrome/workbox/issues/1790 for more information.
 âš  GenerateSW has been called multiple times, perhaps due to running webpack in --watch mode. The precache manifest generated after the first call may be inaccurate! Please see https://github.com/GoogleChrome/workbox/issues/1790 for more information.
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
 GET /api/coach/profile 200 in 3455ms
 âš  GenerateSW has been called multiple times, perhaps due to running webpack in --watch mode. The precache manifest generated after the first call may be inaccurate! Please see https://github.com/GoogleChrome/workbox/issues/1790 for more information.
 GET /api/coach/profile 200 in 76ms
 âš  GenerateSW has been called multiple times, perhaps due to running webpack in --watch mode. The precache manifest generated after the first call may be inaccurate! Please see https://github.com/GoogleChrome/workbox/issues/1790 for more information.
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
ðŸ… Badges API - Request details: {
  type: 'all',
  requestedStudentId: null,
  targetStudentId: null,
  userRole: 'COACH',
  userId: 'cmdgn63ux0000w2lkjb3fjz17'
}
 GET /api/students/by-academy?academy=Transform%20Cricket%20Academy 200 in 2416ms
 GET /api/students/by-academy?academy=Transform%20Cricket%20Academy 200 in 56ms
 GET /api/badges?manage=true 200 in 2519ms
 âš  GenerateSW has been called multiple times, perhaps due to running webpack in --watch mode. The precache manifest generated after the first call may be inaccurate! Please see https://github.com/GoogleChrome/workbox/issues/1790 for more information.
 GET /api/coach/profile 200 in 2506ms
ðŸ… Badges API - Request details: {
  type: 'all',
  requestedStudentId: null,
  targetStudentId: null,
  userRole: 'COACH',
  userId: 'cmdgn63ux0000w2lkjb3fjz17'
}
 GET /api/badges?manage=true 200 in 75ms
 GET /api/skills 200 in 2617ms
 âš  GenerateSW has been called multiple times, perhaps due to running webpack in --watch mode. The precache manifest generated after the first call may be inaccurate! Please see https://github.com/GoogleChrome/workbox/issues/1790 for more information.
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
 GET /_next/static/webpack/webpack.0be5b0c159a7e17b.hot-update.js 404 in 1514ms
 âš  Fast Refresh had to perform a full reload. Read more: https://nextjs.org/docs/messages/fast-refresh-reload
 GET /api/coach/profile 200 in 1630ms
 GET /dashboard 200 in 124ms
 GET /api/skills 200 in 1636ms
 GET /api/auth/session 200 in 18ms
 GET /api/coach/profile 200 in 79ms
ðŸ… Badges API - Request details: {
  type: 'all',
  requestedStudentId: null,
  targetStudentId: null,
  userRole: 'COACH',
  userId: 'cmdgn63ux0000w2lkjb3fjz17'
}
 GET /api/students/by-academy?academy=Transform%20Cricket%20Academy 200 in 73ms
 GET /api/badges?manage=true 200 in 78ms
 GET /api/coach/profile 200 in 88ms
 GET /api/skills 200 in 109ms
 âš  GenerateSW has been called multiple times, perhaps due to running webpack in --watch mode. The precache manifest generated after the first call may be inaccurate! Please see https://github.com/GoogleChrome/workbox/issues/1790 for more information.
 âš  GenerateSW has been called multiple times, perhaps due to running webpack in --watch mode. The precache manifest generated after the first call may be inaccurate! Please see https://github.com/GoogleChrome/workbox/issues/1790 for more information.
ðŸ“Š Track API - Starting bulk request
[next-auth][warn][DEBUG_ENABLED] 
https://next-auth.js.org/warnings#debug_enabled
ðŸ“Š Track API - Request: type=feedback, student=all, dateRange=week, limit=10, page=1
âœ… Coach found: Coach John Smith with 8 students
ðŸŽ¯ Valid student IDs for coach: 8
ðŸ“… Date filter: week (7 days) - cutoff: 2025-07-17T00:42:58.488Z
âœ… Track API (feedback) completed in 227ms - found 10/16 items (page 1/2)
 GET /api/track?type=feedback&student=all&category=all&priority=all&status=all&dateRange=week 200 in 1398ms
ðŸ“Š Track API - Starting bulk request
ðŸ“Š Track API - Request: type=actions, student=all, dateRange=week, limit=10, page=1
âœ… Coach found: Coach John Smith with 8 students
ðŸŽ¯ Valid student IDs for coach: 8
ðŸ“… Date filter: week (7 days) - cutoff: 2025-07-17T00:43:00.450Z
ðŸ” Actions query where clause: {
  "studentId": {
    "in": [
      "cmdgn642z0005w2lklel3z35c",
      "cmdgn648y0008w2lkwna1mxi6",
      "cmdgn64en000bw2lkdkscl5dn",
      "cmdgn64kl000ew2lkp8vocliq",
      "cmdgn64qf000hw2lk7bkciioj",
      "cmdgn64wa000kw2lkviahbiwi",
      "cmdgn6528000nw2lkmui5xdj6",
      "cmdgn6585000qw2lkqfladih2"
    ]
  },
  "createdAt": {
    "gte": "2025-07-17T00:43:00.450Z"
  }
}
ðŸ“Š Actions query results:
   Total actions: 5
   Actions with proof media: 4
   Actions with demo media: 3
ðŸŽ¯ Proof media actions:
   1. "Free Throw Form Check" - video/mp4 (my_free_throw_practice.mp4)
   2. "Speed Test Results" - image/jpeg (sprint_time_results.jpg)
   3. "Fitness Challenge Completion" - image/jpeg (burpee_challenge_complete.jpg)
âœ… Track API (actions) completed in 199ms - found 5/5 items (page 1/1)
 GET /api/track?type=actions&student=all&category=all&priority=all&status=all&dateRange=week 200 in 207ms
prisma:error Error in PostgreSQL connection: Error { kind: Closed, cause: None }
prisma:error Error in PostgreSQL connection: Error { kind: Closed, cause: None }
[next-auth][error][JWT_SESSION_ERROR] 
https://next-auth.js.org/errors#jwt_session_error decryption operation failed {
  message: 'decryption operation failed',
  stack: 'JWEDecryptionFailed: decryption operation failed\n' +
    '    at gcmDecrypt (webpack-internal:///(rsc)/./node_modules/next-auth/node_modules/jose/dist/node/cjs/runtime/decrypt.js:67:15)\n' +
    '    at decrypt (webpack-internal:///(rsc)/./node_modules/next-auth/node_modules/jose/dist/node/cjs/runtime/decrypt.js:92:20)\n' +
    '    at flattenedDecrypt (webpack-internal:///(rsc)/./node_modules/next-auth/node_modules/jose/dist/node/cjs/jwe/flattened/decrypt.js:143:52)\n' +
    '    at async compactDecrypt (webpack-internal:///(rsc)/./node_modules/next-auth/node_modules/jose/dist/node/cjs/jwe/compact/decrypt.js:18:23)\n' +
    '    at async jwtDecrypt (webpack-internal:///(rsc)/./node_modules/next-auth/node_modules/jose/dist/node/cjs/jwt/decrypt.js:8:23)\n' +
    '    at async Object.decode (webpack-internal:///(rsc)/./node_modules/next-auth/jwt/index.js:56:7)\n' +
    '    at async Object.session (webpack-internal:///(rsc)/./node_modules/next-auth/core/routes/session.js:39:28)\n' +
    '    at async AuthHandler (webpack-internal:///(rsc)/./node_modules/next-auth/core/index.js:136:27)\n' +
    '    at async NextAuthRouteHandler (webpack-internal:///(rsc)/./node_modules/next-auth/next/index.js:57:28)\n' +
    '    at async NextAuth._args$ (webpack-internal:///(rsc)/./node_modules/next-auth/next/index.js:89:16)\n' +
    '    at async eval (webpack-internal:///(rsc)/./node_modules/@sentry/nextjs/build/cjs/common/wrapRouteHandlerWithSentry.js:39:30)\n' +
    '    at async AppRouteRouteModule.do (/Users/lilsp/peakplay-prototype/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:26:34112)\n' +
    '    at async AppRouteRouteModule.handle (/Users/lilsp/peakplay-prototype/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js:26:41338)\n' +
    '    at async doRender (/Users/lilsp/peakplay-prototype/node_modules/next/dist/server/base-server.js:1513:42)\n' +
    '    at async DevServer.renderToResponseWithComponentsImpl (/Users/lilsp/peakplay-prototype/node_modules/next/dist/server/base-server.js:1915:28)\n' +
    '    at async DevServer.renderPageComponent (/Users/lilsp/peakplay-prototype/node_modules/next/dist/server/base-server.js:2403:24)\n' +
    '    at async DevServer.renderToResponseImpl (/Users/lilsp/peakplay-prototype/node_modules/next/dist/server/base-server.js:2440:32)\n' +
    '    at async DevServer.pipeImpl (/Users/lilsp/peakplay-prototype/node_modules/next/dist/server/base-server.js:1007:25)\n' +
    '    at async NextNodeServer.handleCatchallRenderRequest (/Users/lilsp/peakplay-prototype/node_modules/next/dist/server/next-server.js:305:17)\n' +
    '    at async DevServer.handleRequestImpl (/Users/lilsp/peakplay-prototype/node_modules/next/dist/server/base-server.js:899:17)\n' +
    '    at async /Users/lilsp/peakplay-prototype/node_modules/next/dist/server/dev/next-dev-server.js:371:20\n' +
    '    at async Span.traceAsyncFn (/Users/lilsp/peakplay-prototype/node_modules/next/dist/trace/trace.js:157:20)\n' +
    '    at async DevServer.handleRequest (/Users/lilsp/peakplay-prototype/node_modules/next/dist/server/dev/next-dev-server.js:368:24)\n' +
    '    at async invokeRender (/Users/lilsp/peakplay-prototype/node_modules/next/dist/server/lib/router-server.js:237:21)\n' +
    '    at async handleRequest (/Users/lilsp/peakplay-prototype/node_modules/next/dist/server/lib/router-server.js:428:24)\n' +
    '    at async requestHandlerImpl (/Users/lilsp/peakplay-prototype/node_modules/next/dist/server/lib/router-server.js:452:13)\n' +
    '    at async Server.requestListener (/Users/lilsp/peakplay-prototype/node_modules/next/dist/server/lib/start-server.js:158:13)',
  name: 'JWEDecryptionFailed'
}
 GET /api/auth/session 200 in 69ms
 GET /auth/signin 200 in 63ms
 GET /api/skills 401 in 24ms
 GET /api/badges?type=progress 401 in 41ms
 â¨¯ ./src/lib/auth.ts
Module parse failed: Duplicate export 'authOptions' (216:9)
| export const POST = authHandler;
| // Also export the auth options for use in other parts of the app
> export { authOptions };
| 

Import trace for requested module:
./src/lib/auth.ts
./src/app/page.tsx
[?25h
